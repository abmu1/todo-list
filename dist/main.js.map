{"version":3,"file":"main.js","mappings":"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","sources":["webpack://todo/./src/factories.js","webpack://todo/./src/localStorage.js","webpack://todo/./src/task.js","webpack://todo/./src/project.js","webpack://todo/./src/index.js"],"sourcesContent":["const library = ( todos = []) => {\n  let currentTodo;\n  const addTodo = (todo) => {\n    todos.push(todo);\n  };\n  const removeTodo = (name) => {\n    for (let i = 0; i < todos.length; i++) {\n      if (todos[i].name === name) {\n        todos.splice(i, 1);\n      };\n    };\n  };\n  const updateCT = (todo) => {\n    currentTodo = todo;\n  };\n  const index = () => {\n    return todos.length;\n  };\n  return {todos,currentTodo,addTodo,removeTodo,updateCT,index};\n};\n\nconst projectFactory = (name, tasks = []) => {\n  const addTask = (task) => {\n    tasks.push(task);\n  };\n  const removeTask = (name) => {\n    for (let i = 0; i < tasks.length; i++) {\n      if (tasks[i].name === name) {\n        tasks.splice(i, 1);\n      };\n    };\n  };\n  const index = () => {\n    return tasks.length;\n  };\n  return {name,tasks,addTask,removeTask,index};\n};\n\nconst taskFactory = (name, dueDate, priority, isDone = false) => {\n  let description = '';\n  const addDescription = (d) => {\n    description = d;\n  };\n  const updateDone = (done) => {\n    isDone = done;\n  };\n  return {name,dueDate,isDone,priority,description,updateDone,addDescription};\n};\n\nexport{library,projectFactory,taskFactory};","import { projectFactory, taskFactory } from \"./factories\";\nimport { library } from \"./factories\";\n\nfunction saveLibrary(Library) {\n  localStorage.setItem('library', JSON.stringify(Library));\n};\nfunction getLibrary() {\n  let Library = JSON.parse(localStorage.getItem('library'));\n  if (Library) {\n    const todos = Library.todos.map(todo => {\n      let tasks = todo.tasks.map(task => {\n        let { name, dueDate, priority, isDone } = task;\n        return taskFactory(name, dueDate, priority, isDone);\n      })\n      return projectFactory(todo.name, tasks);\n    })\n    return library(todos);\n  }\n}\n\nexport {\n  saveLibrary,\n  getLibrary\n};","import { saveLibrary } from \"./localStorage\";\n\nfunction showPopup() {\n  const addTask = document.getElementById('add-task');\n  addTask.addEventListener('click', (e) => {\n    e.stopPropagation();\n    const task_pop = document.getElementById('task-popup');\n    task_pop.classList.add('task-popup');\n    task_pop.classList.remove('hidden');\n    const taskName = document.getElementById('task-name');\n    taskName.focus();\n  });\n};\nfunction hidePopup() {\n  const cancelT = document.getElementById('cancelT');\n  cancelT.addEventListener('click', () => {\n    const task_pop = document.getElementById('task-popup');\n    task_pop.classList.remove('task-popup');\n    task_pop.classList.add('hidden');\n  });\n};\n\nfunction getDataFromPopup(Library,taskFactory) {\n  const task_pop = document.getElementById('task-popup');\n  task_pop.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const taskName = document.getElementById('task-name');\n    let name = taskName.value.toLowerCase().trim();\n    for (let i = 0; i < Library.currentTodo.tasks.length; i++) {\n      let check = Library.currentTodo.tasks[i].name.toLowerCase();\n      if (name === check) {\n        taskName.setCustomValidity('There is already a task with this name!');\n        taskName.reportValidity();\n        taskName.oninput = () => {\n          taskName.setCustomValidity(\"\");\n        }\n        return;\n      };\n    };\n    const dueDate = document.getElementById('due-date');\n    const priority = document.getElementById('priority');\n    const task = taskFactory(taskName.value.trim(),dueDate.value,priority.value);\n    taskName.value = '';\n    dueDate.value = '';\n    const ct = Library.currentTodo;\n    ct.addTask(task);\n    renderTask(Library);\n    task_pop.reset();\n    const cancelT = document.getElementById('cancelT');\n    cancelT.click()\n    // save library updates to local storage.\n    saveLibrary(Library);\n  });\n};\n\nfunction renderTask(Library) {\n  let project = Library.currentTodo;\n  let h1 = document.getElementById('current-project');\n  h1.innerText = '';\n  const ul = document.getElementById('tasks');\n  ul.innerHTML = '';\n  if (!project) return;\n  h1.innerText = project.name;\n  project.tasks.forEach(task => {\n    const li = document.createElement('li');\n    const doneButton = document.createElement('button');\n    const nameP = document.createElement('p');\n    const dateP = document.createElement('p');\n    const removeButton = document.createElement('button');\n    li.classList.add('task', task.priority);\n    doneButton.classList.add('done');\n    nameP.classList.add('task-name');\n    dateP.classList.add('date');\n    removeButton.classList.add('remove', 'remove-task');\n    removeButton.innerHTML = '&times'\n    removeButton.addEventListener('click', removeTask(Library))\n    nameP.textContent = task.name;\n    dateP.textContent = task.dueDate;\n    doneButton.addEventListener('click', () => {\n      if (task.isDone) {\n        task.isDone = false;\n        li.classList.remove('completed');\n        saveLibrary(Library);\n        return;\n      }\n      task.isDone = true;\n      li.classList.add('completed');\n      saveLibrary(Library);\n    });\n    if (task.isDone) {\n      li.classList.add('completed');\n    }\n    li.append(doneButton,nameP,dateP,removeButton);\n    li.dataset.name = task.name;\n    ul.append(li);\n  });\n};\n\nfunction removeTask(Library) {\n  return function (e) {\n    let project = Library.currentTodo;\n    const task = e.target.parentElement;\n    project.removeTask(task.dataset.name);\n    task.remove();\n    saveLibrary(Library);\n  };\n};\n\nexport{\n  showPopup,hidePopup,\n  getDataFromPopup,renderTask,removeTask\n};","import { saveLibrary } from \"./localStorage\";\nimport { renderTask } from \"./task\";\n\nfunction showProjectPopup() {\n  const addProject = document.getElementById('add-project');\n  addProject.addEventListener('click', (e) => {\n    e.stopPropagation();\n    const projectPopup = document.getElementById('project-popup');\n    projectPopup.classList.add('project-popup');\n    projectPopup.classList.remove('hidden');\n    const titleInput = document.getElementById('project-title');\n    titleInput.focus();\n  });\n};\n\nfunction hideProjectPopup() {\n  const cancelP = document.getElementById('cancelP');\n  cancelP.addEventListener('click', () => {\n    const projectPopup = document.getElementById('project-popup');\n    projectPopup.classList.remove('project-popup');\n    projectPopup.classList.add('hidden');\n  });\n};\n\nfunction getDataFromProjectForm(Library,projectFactory) {\n  const projectPopup = document.getElementById('project-popup');\n  projectPopup.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const titleInput = document.getElementById('project-title');\n    const projectTitle = titleInput.value;\n    let name = projectTitle.toLowerCase().trim();\n    for (let i = 0; i < Library.todos.length; i++) {\n      let check = Library.todos[i].name.toLowerCase();\n      if (name === check) {\n        titleInput.setCustomValidity('There is already a project with this name!');\n        titleInput.reportValidity();\n        titleInput.oninput = () => {\n          titleInput.setCustomValidity(\"\");\n        }\n        return;\n      };\n    };\n    const project = projectFactory(projectTitle);\n    Library.addTodo(project);\n    renderProject(Library, project);\n    if (Library.todos.length === 1) {\n      Library.currentTodo = project;\n      renderTask(Library);\n    }\n    titleInput.value = '';\n    projectPopup.reset();\n    const cancelP = document.getElementById('cancelP');\n    cancelP.click();\n    // save library updates to local storage.\n    saveLibrary(Library);\n  });\n};\n\nfunction renderProject(Library, project) {\n  const ul = document.getElementById('projects');\n  const li = document.createElement('li');\n  const p = document.createElement('p');\n  const button = document.createElement('button');\n  li.classList.add('project');\n  li.dataset.name = project.name;\n  li.addEventListener('click', () => {\n    Library.currentTodo = project;\n    renderTask(Library);\n    const clicked = document.querySelector('.clicked');\n    clicked?.classList.remove('clicked');\n    li.classList.add('clicked');\n  });\n  p.classList.add('project-name');\n  p.textContent = project.name;\n  button.classList.add('remove', 'remove-project');\n  button.innerHTML = '&times';\n  button.addEventListener('click',removeClosure(Library, project));\n  li.append(p,button);\n  ul.append(li);\n};\n\n\nfunction removeClosure(Library, project) {\n  return function removeProject(e) {\n    e.stopPropagation();\n    const button = e.target;\n    const parent = button.parentElement;\n    const projName = parent.dataset.name;\n    Library.removeTodo(projName);\n    parent.remove();\n    if (Library.currentTodo === project) {\n      Library.currentTodo = Library.todos[0];\n      renderTask(Library);\n    }\n    // save library updates to local storage.\n    saveLibrary(Library);\n  };\n};\n\nexport{showProjectPopup,hideProjectPopup,\n        getDataFromProjectForm,renderProject,\n      };","import { library, projectFactory, taskFactory } from \"./factories\";\nimport * as myProject from \"./project\";\nimport * as myTask from \"./task.js\"\nimport { getLibrary } from \"./localStorage\";\n\nconst tempLibrary = library();\nconst defualtProject = projectFactory('Default');\ntempLibrary.addTodo(defualtProject);\ntempLibrary.currentTodo = defualtProject;\n\nconst Library = getLibrary() || tempLibrary;\n\nmyProject.showProjectPopup();\nmyProject.hideProjectPopup();\nmyProject.getDataFromProjectForm(Library, projectFactory);\nmyTask.showPopup();\nmyTask.hidePopup();\nmyTask.getDataFromPopup(Library, taskFactory);\nLibrary.todos.forEach(project => {\n  myProject.renderProject(Library, project);\n});\nLibrary.currentTodo = Library.todos[0];\ndocument.getElementById('projects').firstChild?.click()\n\ndocument.addEventListener('click', (event) => {\n  const task_pop = document.getElementById('task-popup');\n  const projectPopup = document.getElementById('project-popup');\n  if (!task_pop.contains(event.target) && (!task_pop.classList.contains('hidden'))) {\n    task_pop.classList.add('hidden');\n  }\n  if (!projectPopup.contains(event.target)) {\n    projectPopup.classList.add('hidden');\n  }\n})"],"names":["library","todos","currentTodo","addTodo","todo","push","removeTodo","name","i","length","splice","updateCT","index","projectFactory","tasks","addTask","task","removeTask","taskFactory","dueDate","priority","isDone","description","updateDone","done","addDescription","d","saveLibrary","Library","localStorage","setItem","JSON","stringify","renderTask","project","h1","document","getElementById","innerText","ul","innerHTML","forEach","li","createElement","doneButton","nameP","dateP","removeButton","classList","add","addEventListener","e","target","parentElement","dataset","remove","textContent","append","renderProject","p","button","clicked","querySelector","stopPropagation","parent","projName","removeClosure","tempLibrary","defualtProject","parse","getItem","map","getLibrary","projectPopup","focus","preventDefault","titleInput","projectTitle","value","toLowerCase","trim","setCustomValidity","reportValidity","oninput","reset","click","task_pop","taskName","firstChild","event","contains"],"sourceRoot":""}